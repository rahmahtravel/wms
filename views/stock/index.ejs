<!DOCTYPE html>
<html lang="id">
<head>
  <%- include('../partials/head', { title: title }) %>
  <style>
    /* Gradient Header Styles */
    :root {
      --primary-color: #f9a825;
      --primary-light: #ffd54f;
      --primary-dark: #f57f17;
    }

    .gradient-header {
      background: linear-gradient(
        135deg,
        var(--primary-color) 0%,
        var(--primary-light) 100%
      );
      position: relative;
      overflow: hidden;
    }

    .gradient-header::before {
      content: "";
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M11 18c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm48 25c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm-43-7c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm63 31c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM34 90c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm56-76c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM12 86c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm28-65c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm23-11c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-6 60c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm29 22c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zM32 63c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm57-13c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-9-21c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM60 91c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM35 41c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2z' fill='%23ffffff' fill-opacity='0.1' fill-rule='evenodd'/%3E%3C/svg%3E");
      opacity: 0.6;
    }

    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    @keyframes pulse-soft {
      0%, 100% {
        opacity: 1;
      }
      50% {
        opacity: 0.8;
      }
    }

    .animate-fadeInUp {
      animation: fadeInUp 0.6s ease-out forwards;
    }

    .animate-pulse-soft {
      animation: pulse-soft 3s ease-in-out infinite;
    }

    .bg-primary-gradient {
      background: linear-gradient(135deg, var(--primary-color) 0%, var(--primary-light) 100%);
    }

    .text-primary {
      color: var(--primary-color);
    }

    .text-primary-dark {
      color: var(--primary-dark);
    }
  </style>
</head>
<body class="bg-gray-50">
  <%- include('../partials/navbar') %>
  
  <%- include('../partials/sidebar') %>

  <main id="mainContent" class="ml-64 mt-16 p-4 md:p-6 lg:p-8 transition-all duration-300 min-h-screen bg-gradient-to-br from-gray-50 via-orange-50 to-yellow-50">
    <!-- Page Header - Ultra Modern Design (Dashboard Style) -->
    <div class="mb-8 animate-fadeInUp">
      <div class="rounded-2xl overflow-hidden shadow-2xl">
        <div class="gradient-header text-white p-8 md:p-10">
          
          <div class="relative z-10">
            <div class="flex flex-col md:flex-row items-center gap-6">
              <!-- Modern Logo Container -->
              <div class="flex-none">
                <div class="relative group">
                  <div class="absolute inset-0 bg-white opacity-20 rounded-2xl blur-xl group-hover:opacity-30 transition-opacity"></div>
                  <div class="relative w-24 h-24 md:w-28 md:h-28 rounded-2xl bg-white/95 backdrop-blur-sm flex items-center justify-center shadow-2xl transform group-hover:scale-105 transition-transform duration-300">
                    <img src="/images/logo.png" alt="Logo" class="max-h-16 md:max-h-20 max-w-full object-contain">
                  </div>
                </div>
              </div>
              
              <!-- Text Content -->
              <div class="flex-1 text-center md:text-left">
                <h1 class="text-2xl md:text-3xl lg:text-4xl font-black leading-tight text-white mb-2 tracking-tight">
                  <%= title %>
                </h1>
                <p class="text-base md:text-lg text-white/90 font-medium max-w-2xl">
                  Monitoring stok barang di seluruh lokasi gudang dan cabang secara real-time
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Filter Section -->
    <div class="bg-white rounded-xl shadow-md p-4 mb-6">
      <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
        <input type="text" placeholder="Cari barang..." class="px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500">
        <select class="px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500">
          <option value="">Semua Gudang</option>
        </select>
        <select class="px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500">
          <option value="">Semua Cabang</option>
        </select>
        <button class="bg-primary text-white px-4 py-2 rounded-lg hover:bg-primary-dark transition">
          <i class="fas fa-search mr-2"></i> Filter
        </button>
      </div>
    </div>

    <div class="bg-white rounded-xl shadow-md overflow-hidden">
      <div class="overflow-x-auto">
        <table class="min-w-full divide-y divide-gray-200">
          <thead class="bg-gray-50">
            <tr>
              <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Kode</th>
              <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Nama Barang</th>
              <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Lokasi</th>
              <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Rak/Bin</th>
              <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Cabang</th>
              <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Qty</th>
              <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Available</th>
              <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Reserved</th>
            </tr>
          </thead>
          <tbody class="bg-white divide-y divide-gray-200">
            <% if (stock.length === 0) { %>
              <tr>
                <td colspan="8" class="px-6 py-8 text-center text-gray-500">
                  <i class="fas fa-inbox text-4xl mb-2"></i>
                  <p>Belum ada data stok</p>
                </td>
              </tr>
            <% } else { %>
              <% stock.forEach(item => { %>
                <tr class="hover:bg-gray-50">
                  <td class="px-6 py-4 whitespace-nowrap text-sm font-mono text-gray-900"><%= item.kode_barang %></td>
                  <td class="px-6 py-4 text-sm font-medium text-gray-900"><%= item.nama_barang %></td>
                  <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-600"><%= item.location_name || '-' %></td>
                  <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-600">
                    <%= item.rack_name || '-' %> / <%= item.bin_name || '-' %>
                  </td>
                  <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-600">
                    <span class="px-2 py-1 rounded-full text-xs bg-blue-100 text-blue-800">
                      <%= item.branch_name || 'N/A' %>
                    </span>
                  </td>
                  <td class="px-6 py-4 whitespace-nowrap text-sm font-semibold text-gray-900"><%= item.quantity %></td>
                  <td class="px-6 py-4 whitespace-nowrap text-sm text-green-600 font-semibold"><%= item.available_qty %></td>
                  <td class="px-6 py-4 whitespace-nowrap text-sm text-orange-600"><%= item.reserved_qty %></td>
                </tr>
              <% }); %>
            <% } %>
          </tbody>
        </table>
      </div>
    </div>
  </main>

  <%- include('../partials/footer') %>
  
  <%- include('../partials/scripts') %>
</body>
</html>
